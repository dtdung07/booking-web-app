<main>
    <section class="new-dishes-section">
        <div class="container">
            <h2 class="section-title">Món mới ra lò</h2>
            
            <!-- Carousel wrapper -->
            <div class="carousel-wrapper">
                <div class="dishes-carousel" id="dishesCarousel">
                    <div class="dish-card">
                        <img src="https://storage.quannhautudo.com/data/thumb_400/Data/images/product/2025/06/202506271714066553.webp" alt="Gỏi bò cà pháo đồng quê">
                        <div class="dish-info">
                            <h3>Gỏi bò cà pháo đồng quê</h3>
                            <div class="dish-meta">
                                <span class="price">169.000</span>
                                <button class="btn-add-dish">
                                    <i class="fas fa-plus"></i> Đặt
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="dish-card">
                        <img src="https://storage.quannhautudo.com/data/thumb_400/Data/images/product/2025/06/202506271649402242.webp" alt="Trâu tươi cháy tỏi">
                        <div class="dish-info">
                            <h3>Trâu tươi cháy tỏi</h3>
                            <div class="dish-meta">
                                <span class="price">189.000</span>
                                <button class="btn-add-dish">
                                    <i class="fas fa-plus"></i> Đặt
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="dish-card">
                        <img src="https://storage.quannhautudo.com/data/thumb_400/Data/images/product/2025/06/202506271717089.webp" alt="Ốc hương ủ muối thảo mộc">
                        <div class="dish-info">
                            <h3>Ốc hương ủ muối thảo mộc</h3>
                            <div class="dish-meta">
                                <span class="price">159.000</span>
                                <button class="btn-add-dish">
                                    <i class="fas fa-plus"></i> Đặt
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="dish-card">
                        <img src="https://storage.quannhautudo.com/data/thumb_400/Data/images/product/2024/05/202405301017077267.webp" alt="Tôm càng nướng">
                        <div class="dish-info">
                            <h3>Tôm càng nướng</h3>
                            <div class="dish-meta">
                                <span class="price">199.000</span>
                                <button class="btn-add-dish">
                                    <i class="fas fa-plus"></i> Đặt
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="dish-card">
                        <img src="https://storage.quannhautudo.com/data/thumb_400/Data/images/product/2025/06/202506271714066553.webp" alt="Cá lóc nướng lá chuối">
                        <div class="dish-info">
                            <h3>Cá lóc nướng lá chuối</h3>
                            <div class="dish-meta">
                                <span class="price">249.000</span>
                                <button class="btn-add-dish">
                                    <i class="fas fa-plus"></i> Đặt
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="dish-card">
                        <img src="https://storage.quannhautudo.com/data/thumb_400/Data/images/product/2025/06/202506271649402242.webp" alt="Gà nướng mật ong">
                        <div class="dish-info">
                            <h3>Gà nướng mật ong</h3>
                            <div class="dish-meta">
                                <span class="price">179.000</span>
                                <button class="btn-add-dish">
                                    <i class="fas fa-plus"></i> Đặt
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="dish-card">
                        <img src="https://storage.quannhautudo.com/data/thumb_400/Data/images/product/2025/06/202506271717089.webp" alt="Bò nướng lá lốt">
                        <div class="dish-info">
                            <h3>Bò nướng lá lốt</h3>
                            <div class="dish-meta">
                                <span class="price">219.000</span>
                                <button class="btn-add-dish">
                                    <i class="fas fa-plus"></i> Đặt
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="dish-card">
                        <img src="https://storage.quannhautudo.com/data/thumb_400/Data/images/product/2024/05/202405301017077267.webp" alt="Chả cá Lã Vọng">
                        <div class="dish-info">
                            <h3>Chả cá Lã Vọng</h3>
                            <div class="dish-meta">
                                <span class="price">169.000</span>
                                <button class="btn-add-dish">
                                    <i class="fas fa-plus"></i> Đặt
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="dish-card">
                        <img src="https://storage.quannhautudo.com/data/thumb_400/Data/images/product/2024/05/202405301017077267.webp" alt="Chả cá Lã Vọng">
                        <div class="dish-info">
                            <h3>Chả cá Lã Vọng</h3>
                            <div class="dish-meta">
                                <span class="price">169.000</span>
                                <button class="btn-add-dish">
                                    <i class="fas fa-plus"></i> Đặt
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="dish-card">
                        <img src="https://storage.quannhautudo.com/data/thumb_400/Data/images/product/2024/05/202405301017077267.webp" alt="Chả cá Lã Vọng">
                        <div class="dish-info">
                            <h3>Chả cá Lã Vọng</h3>
                            <div class="dish-meta">
                                <span class="price">169.000</span>
                                <button class="btn-add-dish">
                                    <i class="fas fa-plus"></i> Đặt
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Nút điều hướng trái/phải -->
            <div class="carousel-nav">
                <button class="prev-btn" onclick="prevSlide()">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button class="next-btn" onclick="nextSlide()">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
            
            <!-- Indicator chấm tròn -->
            <div class="carousel-dots">
                <span class="dot active" onclick="goToSlide(1)"></span>
                <span class="dot" onclick="goToSlide(2)"></span>
                <span class="dot" onclick="goToSlide(3)"></span>
            </div>
            
            <!-- Button xem thực đơn -->
            <div class="section-cta">
                <a href="?page=menu" class="btn-main">XEM THỰC ĐƠN</a>
            </div>
        </div>
    </section>

    <section class="cs-section">
        <div class="container">
            <div class="cs-grid">
                
                <aside class="cs-sidebar">
                    <h2>17 CƠ SỞ</h2>
                    <p>Quán Nhậu Tự Do tự hào khi có số lượng cơ sở khắp các quận cùng đội ngũ nhân viên nhiệt tình chu đáo sẵn sàng phục vụ quý thực khách.</p>
                    <ul class="cs-locations-list">
                        <li><a href="#"><span>Ba Đình</span> <span>1</span></a></li>
                        <li><a href="#"><span>Cầu Giấy</span> <span>4</span></a></li>
                        <li><a href="#"><span>Đống Đa</span> <span>3</span></a></li>
                        <li><a href="#"><span>Hai Bà Trưng</span> <span>3</span></a></li>
                        <li><a href="#"><span>Hoàng Mai</span> <span>1</span></a></li>
                        <li><a href="#"><span>Long Biên</span> <span>1</span></a></li>
                        <li><a href="#"><span>Ocean Park</span> <span>2</span></a></li>
                        <li><a href="#"><span>Thanh Xuân</span> <span>1</span></a></li>
                        <li><a href="#"><span>Vinsmart</span> <span>1</span></a></li>
                    </ul>
                </aside>

                <div class="cs-main-content">
                    <div class="cs-group">
                        <h3 class="cs-group-title">BA ĐÌNH</h3>
                        <div class="cs-card">
                            <div class="cs-card-image">
                                <img src="https://storage.quannhautudo.com/data/thumb_1200/Data/images/product/2023/06/202306281114157262.webp" alt="68 Khúc Thừa Dụ">
                                <span class="cs-status-tag">Đang mở</span>
                            </div>
                            <div class="cs-card-details">
                                <h4><i class="fa-solid fa-location-dot"></i> 67A Phó Đức Chính</h4>
                                <p>Quán Nhậu Tự Do 67A Phó Đức Chính - "Chốn ăn chơi" mới của anh em...</p>
                                <div class="cs-card-actions">
                                    <a href="#" class="btn-action">Đặt bàn ngay</a>
                                    <a href="#" class="btn-action">Xem bản đồ</a>
                                    <a href="#" class="btn-action">Xem chi tiết</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="cs-group">
                        <h3 class="cs-group-title">CẦU GIẤY</h3>
                        <div class="cs-card">
                            <div class="cs-card-image">
                                <img src="https://storage.quannhautudo.com/data/thumb_1200/Data/images/product/2023/06/202306281114157262.webp" alt="68 Khúc Thừa Dụ">
                                <span class="cs-status-tag">Đang mở</span>
                            </div>
                            <div class="cs-card-details">
                                <h4><i class="fa-solid fa-location-dot"></i> 10 Nguyễn Văn Huyên</h4>
                                <p>Quán Nhậu Tự Do 10 Nguyễn Văn Huyên - Quán nhậu sành nhất quận Cầ...</p>
                                <div class="cs-card-actions">
                                    <a href="#" class="btn-action">Đặt bàn ngay</a>
                                    <a href="#" class="btn-action">Xem bản đồ</a>
                                    <a href="#" class="btn-action">Xem chi tiết</a>
                                </div>
                            </div>
                        </div>
                         <div class="cs-card">
                            <div class="cs-card-image">
                                <img src="https://storage.quannhautudo.com/data/thumb_1200/Data/images/product/2023/06/202306281114157262.webp" alt="68 Khúc Thừa Dụ">
                                <span class="cs-status-tag">Đang mở</span>
                            </div>
                            <div class="cs-card-details">
                                <h4><i class="fa-solid fa-location-dot"></i> 68 Khúc Thừa Dụ</h4>
                                <p>Quán Nhậu Tự Do 68 Khúc Thừa Dụ - Cầu Giấy</p>
                                <div class="cs-card-actions">
                                    <a href="#" class="btn-action">Đặt bàn ngay</a>
                                    <a href="#" class="btn-action">Xem bản đồ</a>
                                    <a href="#" class="btn-action">Xem chi tiết</a>
                                </div>
                            </div>
                        </div>
                         <div class="cs-card">
                           <div class="cs-card-image">
                                <img src="https://storage.quannhautudo.com/data/thumb_1200/Data/images/product/2023/06/202306281114157262.webp" alt="68 Khúc Thừa Dụ">

                               <span class="cs-status-tag is-open"><span class="dot"></span>Đang mở</span>
                                </div>
                            <div class="cs-card-details">
                                <h4><i class="fa-solid fa-location-dot"></i> Lẩu Bò Tự Do - 58 Khúc Thừa Dụ</h4>
                                <p>Lẩu Bò Tự Do 58 Khúc Thừa Dụ - Quán lẩu ngon quận Cầu Giấy</p>
                                <div class="cs-card-actions">
                                    <a href="#" class="btn-action">Đặt bàn ngay</a>
                                    <a href="#" class="btn-action">Xem bản đồ</a>
                                    <a href="#" class="btn-action">Xem chi tiết</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>

<script>
let currentSlideIndex = 0;
const itemsPerSlide = 4;
const totalSlides = 3; // 10 items / 4 = 2.5 rounds up to 3

function nextSlide() {
    currentSlideIndex = (currentSlideIndex + 1) % totalSlides;
    updateCarousel();
}

function prevSlide() {
    currentSlideIndex = currentSlideIndex === 0 ? totalSlides - 1 : currentSlideIndex - 1;
    updateCarousel();
}

function goToSlide(n) {
    currentSlideIndex = n - 1;
    updateCarousel();
}

function updateCarousel() {
    const carousel = document.querySelector('.dishes-carousel');
    if (!carousel) {
        console.log('Carousel not found!');
        return;
    }
    
    // Tính toán offset dựa trên item width
    const firstCard = carousel.querySelector('.dish-card');
    if (!firstCard) {
        console.log('No cards found!');
        return;
    }
    
    const cardWidth = firstCard.offsetWidth;
    const gap = 20;
    const moveDistance = (cardWidth + gap) * itemsPerSlide;
    const translateX = currentSlideIndex * moveDistance;
    
    carousel.style.transform = `translateX(-${translateX}px)`;
    
    // Cập nhật indicator
    const dots = document.querySelectorAll('.dot');
    dots.forEach((dot, index) => {
        dot.classList.toggle('active', index === currentSlideIndex);
    });
    
    console.log(`Slide: ${currentSlideIndex}, translateX: -${translateX}px, cardWidth: ${cardWidth}`);
}

// Khởi tạo khi DOM loaded
document.addEventListener('DOMContentLoaded', function() {
    setTimeout(updateCarousel, 100); // Delay để đảm bảo layout đã render
    console.log('Carousel initialized');
});

// Bỏ auto slide - chỉ điều khiển thủ công
</script>